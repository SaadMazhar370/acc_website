(n=>{n.fn.EdumallNiceSelect=function(e){var i="focused",c="selected";return this.each(function(){var s=n(this),e=n(this).data("select"),a="",e=e.fieldLabel?'<span class="label">'+e.fieldLabel+"</span>":"",l=n('<div class="edumall-nice-select-current">'+e+'<span class="value"></span></div>'),t=(s.children("option").each(function(){var e="item";n(this).is(":selected")&&(l.find(".value").text(n(this).text()),e+=" "+c),a+='<li class="'+e+'" data-value="'+n(this).val()+'">'+n(this).text()+"</li>"}),a='<ul class="edumall-nice-select">'+a+"</ul>",n('<div class="edumall-nice-select-wrap"></div>'));t.append(l).append(a),l.on("click",function(){t.addClass(i)}),t.on("click","li",function(){var e;t.removeClass(i),n(this).hasClass(c)||(n(this).siblings().removeClass(c),n(this).addClass(c),e=n(this).data("value"),l.find(".value").text(n(this).text()),s.val(e),s.trigger("change"))}),n(document).on("click touchstart",function(e){0==n(e.target).closest(t).length&&t.removeClass(i)}),s.hide().after(t)})}})(jQuery);